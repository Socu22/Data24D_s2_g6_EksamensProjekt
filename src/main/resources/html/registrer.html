<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <title>Bilabonnement</title>
    <link rel="stylesheet" th:href="@{style.css}">
</head>
<style>
    .fade-out {
        animation: fadeOut 4s ease-in-out forwards;
        color: darkred;
    }

    @keyframes fadeOut {
        0%   { opacity: 1; }
        60%  { opacity: 1; }
        100% { opacity: 0; visibility: hidden; }
    }
</style>
<body>
<header th:insert="~{fragments :: header}"></header>

<section >
    <form th:action="@{/OmdirigerRegistrer}" method="get" id="OmReg" >
        <div class="fade-out" th:if="${registrerBesked != 'Ny bruger lavet' && registrerBesked != 'Bruger opdateret'}">
            <label style="color: darkred" th:text="${registrerBesked}"></label>
        </div>
        <div class="fade-out" th:if="${registrerBesked == 'Ny bruger lavet'|| registrerBesked == 'Bruger opdateret'}">
            <label style="color: green" th:text="${registrerBesked}"></label>
        </div>
        <label >Navn:</label>
        <input type="text" name="navn" placeholder="navn" th:value="${navn}"  autofocus="autofocus"  required /><br/>
        <!-- <label th:if="${manglendeInput == 0}" class="fade-out">Mangler Navn</label><br/>-->
        <div th:if="${medarbejderId != null}">
            <label >Adgangskode:</label>
            <input type="text" name="adgangskode" placeholder="adgangskode" th:value="${adgangskode}" required  /><br/>
        </div>
        <div th:if="${medarbejderId == null}">
            <label >Adgangskode:</label>
            <input type="password" name="adgangskode" placeholder="adgangskode" th:value="${adgangskode}" required  /><br/>
            <!-- <label th:if="${manglendeInput == 1}" class="fade-out">Mangler Adgangskode</label><br/>-->
            <label >Verificer Adgangskode:</label>
            <input type="password" name="adgangskode2" placeholder=" verificer adgangskode" th:value="${adgangskode2}" required   /><br/>
        </div>
        <input th:if="${medarbejderId != null}" type="hidden" name="medarbejderId"  th:value="${medarbejderId}"  />
        <!-- <label th:if="${manglendeInput == 2}" class="fade-out">Mangler Verificer Adgangskode</label><br/>-->
        <label >Stilling:</label><br/>

        <select id="stilling" name="stilling"  required>
            <option  th:selected="${medarbejderId == null || stilling.toLowerCase().substring(0,1) == 'd'}" name="stilling" value="DATA"  >Dataregistrering</option>
            <option  th:selected="${medarbejderId != null && stilling.toLowerCase().substring(0,1) == 's'}" name="stilling" value="SKADE"  >Skade og Udbedring</option>
            <option  th:selected="${medarbejderId != null && stilling.toLowerCase().substring(0,1) == 'f'}" name="stilling" value="FORRETNING"  >Forretningsudvikler</option>
        </select>

        <!--  <details >
             <summary th:text="${stilling}"></summary>
                 <button type="submit"  name="stilling" value="Dataregistrering" >Dataregistrering</button>

                 <button type="submit"  name="stilling" value="Skade og Udbedring" >Skade og Udbedring</button>

                 <button type="submit"  name="stilling" value="Forretningsudvikler" >Forretningsudvikler</button>

         </details>
         -->

        <button th:if="${medarbejderId == null}" type="submit" >Registrer</button>
        <button th:if="${medarbejderId != null}" type="submit" >Opdater</button>

    </form>
</section>
<form  th:if="${medarbejderId == null}"  th:action="@{/OmdirigerSoegBruger}" method="get">
    <button type="submit">Rediger Eksisterende Bruger</button>
</form>




</body>
</html>